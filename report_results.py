import matplotlib.pyplot as plt
import numpy as np

# Metanet vs. Random - Bayman
a = [0.33653846153846156, 0.7403846153846154, -0.25961538461538464, 2.0, 1.0961538461538463, -1.125, 1.1634615384615385, -1.3076923076923077, 1.4903846153846154, 0.15384615384615394, 1.8076923076923077, 1.1538461538461537, 1.2307692307692308, -0.5576923076923076, 0.7980769230769232, 0.8749999999999999, 0.5, 0.8557692307692308, 0.20192307692307698, 0.9615384615384618, 1.2019230769230769, -0.6442307692307693, 0.4038461538461538, 0.625, 0.5576923076923077, 1.451923076923077, -0.23076923076923073, 1.0865384615384615, -0.7884615384615384, 0.4807692307692308, -0.6923076923076923, 1.2211538461538463, -1.0576923076923077, -0.6826923076923077, -0.09615384615384623, 0.05769230769230756, -0.2211538461538462]

# Metanet vs. Random - Bayman - Updated Hyperparameters
b = [0.06730769, -0.30769231, 1.08653846, 0.74038462, 0.34615385, 1.58653846, 0.63461538, 0.22115385, 0.05769231, -0.08653846, -1.19230769, 0.08653846, -0.35576923, -0.24038462, -1.06730769, 0.625, 0.82692308, -1.375, -0.65384615, 0.53846154, -0.93269231, 0.625, 0.08653846, 0.45192308, 0.68269231, 1.91346154, 1.68269231, 0.28846154, 1.32692308, 0.79807692, 1.03846154, 0.26923077, -0.29807692, -0.47115385, 0.11538462, 1.25, 1.875, 0.72115385, 1.82692308, 1.21153846, 1.11538462, -0.30769231, -1.26923077, -1.23076923, 0.625, -0.41346154, 1.10576923, -0.81730769, 0.48076923, 1.56730769, -0.59615385, 1.82692308, 0.17307692, -1.31730769, 1.33653846, -1.11538462, 0.18269231, 0.72115385, 1.26923077, -0.46153846, 0.10576923, 1.10576923, 0.77884615, 1.41346154, 0.18269231, -1.75961538, 0.46153846, -0.83653846, -0.14423077, 0.74038462, 0.81730769, 0.125, 0.89423077, 0.60576923, 0.67307692, 1.52884615, -0.24038462, 1.55769231, -0.95192308, 0.52884615, 0.94230769, 1.49038462, 1.00961538, 0.73076923, 1.50961538, 1.36538462, -1.32692308, 0.92307692, 1.25, 0.75961538, -0.40384615, -0.59615385, 0.125, -1.33653846, 0.81730769, -0.66346154, -1.125, 0.22115385, 1.68269231, -0.30769231, -0.84615385, 0.60576923, 0.65384615, 1., -0.16346154, 0.50961538, 0.66346154, 0.18269231, 0.60576923, -0.30769231, 0.54807692, 0.71153846, -0.31730769, -1.25, 0.81730769, -1.41346154, 0.625, 1.02884615, 0.25961538, 0.21153846, 0.46153846] 

# Original vs. Random ; Bayman
c = [-0.31730769, 1.68269231, 0.60576923,
-0.73076923, -1.33653846,
1.30769231, 0.47115385,
-0.25961538, -0.27884615,
-1.75, -0.14423077,
-0.32692308, -0.5,
0.08653846, -0.04807692, 1.26923077,
-1.22115385, 0.84615385, 0.57692308,
0.47115385, 0.78846154,
-0.23076923, 0.34615385, 1.78846154]

# Original vs. Computer ; Hayabusa
d = [1.7211538461538463, 0.3461538461538463, -1.692307692307692, -0.7596153846153845, 1.7980769230769231, 1.8846153846153848, -1.5000000000000002, -2.0000000000000004, 0.6634615384615387, 1.2884615384615383, -0.45192307692307676, 0.6057692307692308, -0.7500000000000001, 1.1634615384615383, 1.0769230769230769, -0.2596153846153847, -2.0, 1.6346153846153846, 1.5, -1.4038461538461537, -1.0, 01.0096153846153846, 1.1634615384615385, 0.7692307692307692, 0.5384615384615381, -0.20192307692307693, 0.11538461538461532, -0.3461538461538463, -0.10576923076923073, 0.3942307692307693, -1.2692307692307694, 1.3942307692307694, 0.8653846153846154, -1.0673076923076923, -0.9134615384615383, 2.0, -0.903846153846154, 1.7211538461538465, 0.7019230769230771, 1.5, -1.317307692307692, -0.44230769230769235, 1.125, 2.0, -2.0, -1.8269230769230766]

# Metanet vs. Computer ; Bayman
e = [1.1923076923076923, 0.7692307692307695, -0.9326923076923076, 1.0865384615384617, -1.5865384615384617, 1.2692307692307692, 1.6346153846153846, -1.269230769230769, 0.807692307692308, -0.3173076923076922, -0.2980769230769232, 0.15384615384615385, 1.8557692307692306, 1.0865384615384615, 0.37500000000000017, -1.1923076923076923, -0.3365384615384614, -0.08653846153846151, 1.0480769230769231, -0.5673076923076923, 1.346153846153846, 1.7211538461538463, -0.4615384615384616, 0.12500000000000028, 1.9326923076923082, -0.8461538461538461, -0.528846153846154, 0.7019230769230769, 2.0, 0.26923076923076916, -1.721153846153846, 1.4519230769230769, -0.26923076923076905, -0.625, -0.0673076923076921, -0.06730769230769218, -0.9038461538461537, 0.6057692307692307, 0.3557692307692307, -0.5, -0.5480769230769229, 1.471153846153846, 0.18269230769230782, 0.8461538461538461, -0.009615384615384526, -1.240384615384615, 1.451923076923077, 0.6346153846153845, 1.4519230769230766, 1.721153846153846, -2.0,0.9326923076923076, 0.548076923076923, -0.3076923076923077, -0.16346153846153838]
 
 
# Metanet vs. Computer ; Hayabusa
f = [-0.3749999999999998, -0.5673076923076923, 0.5384615384615385, 2.0, 0.21153846153846165, 2.0000000000000004, -1.298076923076923, -2.0, 0.9326923076923077, 1.5384615384615385, -1.6634615384615385, -1.7692307692307694, 2.0, 0.4903846153846155, -1.7692307692307692, 1.288461538461538, 0.6634615384615383, -0.6346153846153849, -0.875, 0.6634615384615383, 1.2692307692307692, -0.9519230769230771, 0.6634615384615385, -0.9326923076923077, 2.0, -0.048076923076922976, -1.903846153846154, 0.36538461538461536, 1.5, -1.2596153846153846, -1.3557692307692306, 0.009615384615384692, -0.2211538461538461, 1.5865384615384615, 2.0, 1.7692307692307694, -0.07692307692307684, -0.18269230769230785, 0.9903846153846155, -0.9519230769230769, 0.9999999999999997, -0.0769230769230772, -0.42307692307692324, -1.5288461538461542, -0.25000000000000006] 
 #AVG CUMULATIVE REWARD PER ROUND 0.09700854700854702 
 # Rounds: 45
 
#Original vs. Computer ; Hayabusa ; Gamma = 0.1
g = [0.19230769230769235, 0.18269230769230752, 0.22115384615384612, -0.528846153846154, 0.16346153846153844, 1.1346153846153841, -1.1730769230769234, -1.2211538461538463, -0.7499999999999997, 1.1634615384615385, 0.9326923076923077, -0.009615384615384678, 0.03846153846153852, -1.298076923076923, 0.673076923076923, -1.25, -0.6442307692307693, 0.8557692307692307, -0.3365384615384615, 1.6634615384615383, 1.0961538461538463, -0.6923076923076921, 0.298076923076923, -0.9999999999999999, -1.278846153846154, 1.711538461538462, 1.3173076923076923, -0.009615384615384692, -0.9134615384615384, 0.2500000000000003, 1.2115384615384617, 0.4230769230769231, 1.6250000000000002, 0.16346153846153844, -1.5673076923076925, -0.21153846153846156, 1.3173076923076923, 0.7884615384615384, 0.16346153846153838, -1.3173076923076923, -0.7500000000000002, 0.24038461538461536, 0.33653846153846156, -0.7019230769230769, 0.8653846153846153, -1.1730769230769234, -1.403846153846154, 1.5673076923076923, -0.46153846153846156, 1.6634615384615383, -1.1730769230769231, -1.1346153846153846] 
 #AVG CUMULATIVE REWARD PER ROUND 0.02422337278106507 
 #Rounds: 52
 
# Original vs. Computer ; Hayabusa ; Gamma = 0.3
h = [-1.2211538461538463, -0.384615384615385, -0.07692307692307698, -0.5769230769230771, -2.0000000000000004, 0.10576923076923078, -1.855769230769231, -1.9999999999999998, -1.1730769230769231, 1.0288461538461537, -1.5865384615384615, -0.8365384615384615, -1.1634615384615383, -1.673076923076923, 0.3557692307692306, 0.07692307692307684, 0.8942307692307692, -0.8365384615384616, 1.826923076923077, -0.2500000000000001, -0.7211538461538464, -0.173076923076923, 0.4807692307692307, -1.4038461538461537, 0.28846153846153844, -0.6634615384615384, 0.16346153846153869, -0.26923076923076916, -0.36538461538461553, -0.3846153846153846, 1.6634615384615385, -0.8653846153846151]

i = [2.0, -0.096153846153846, -0.33653846153846156, -1.3173076923076925, -1.6730769230769234, 1.3557692307692306, 1.9999999999999998, -0.5, -0.06730769230769251, -1.586538461538462, 1.0673076923076925, -0.9519230769230769, -0.5865384615384617, 0.6153846153846154, 0.9519230769230771, 0.6923076923076923, -1.4519230769230766, -0.5192307692307695, 0.7307692307692308, 0.41346153846153855, -0.1826923076923078, 0.0288461538461538, -0.576923076923077, 0.4903846153846154, 1.2115384615384615, -0.9615384615384612, 0.5, 0.5384615384615385, -0.5673076923076924, -1.7211538461538463, 0.30769230769230765, -0.8557692307692308, -2.0000000000000004, -1.0865384615384617, -0.2211538461538462, 1.4807692307692308, -1.3653846153846152, -1.538461538461538]


def moving_average(x, w):
    return np.convolve(x, np.ones(w), 'valid') / w
    
def show_results_from_list(l: list, title: str):
	print("Average cumulative reward per round: ", sum(l) / len(l))
	print("# Rounds: ", len(l))
	plt.plot(moving_average(l, 12))
	plt.xlabel("Round #")
	plt.ylabel("Moving Cumulative Round Reward Average")
	plt.title(title)
	plt.show()

# META NET 1
show_results_from_list(a, title="Performance of Metanet vs. Random agent")
"""
a = sum(a, [])
print(len(a))
print(sum(a) / len(a))
plt.plot(moving_average(a, 10))
plt.xlabel('Round #')
plt.ylabel('Moving Average Cumulative Round Reward')
plt.title("Metaagent vs. Random")
plt.show()
"""

# META NET 2
show_results_from_list(b, title="Performance of Metanet (updated hyperparameters) vs. Random agent")
"""
print(sum(b) / len(b))
#plt.plot(b)
plt.plot(moving_average(b, 10))
plt.xlabel('Round #')
plt.ylabel('Moving average cumulative round reward')
plt.title("Metaagent (updated hyperparameters) vs. Random agent")
plt.show()
"""

# ORIGINAL NET 1 vs. RANDON
show_results_from_list(c, title="Performance of Original vs. Random agent")
"""
c = sum(c, [])
print(c)
print(sum(c) / len(c))
print(len(c))
#plt.plot(c)
plt.plot(moving_average(c, 10))
plt.xlabel('Round #')
plt.ylabel('Moving Average Cumulative Round Reward')
plt.title("Original agent vs. Random")
plt.show()
"""

# ORIGINAL NET vs. COMPUTER - Hayabusa
show_results_from_list(d, title="Performance of Original vs. Computer agent")
"""
print(sum(d) / len(d))
print(len(d))
plt.plot(moving_average(d, 10))
plt.xlabel('Round #')
plt.ylabel('Cumulative Round Reward')
plt.title("Original agent vs. Computer")
plt.show()
"""

# Metanet vs. Computer - Bayman
show_results_from_list(e, title="Performance of Metanet (Bayman) vs. Computer agent")

# Metanet vs. Computer - Hayabusa
show_results_from_list(f, title="Performance of Metanet (Hayabusa) vs. Computer agent")

# Original vs. Computer - Hayabusa
show_results_from_list(g, title="Performance of Original (Hayabusa) vs. Computer agent, Gamma=0.1")
show_results_from_list(h, title="Performance of Original (Hayabusa) vs. Computer agent, Gamma=0.3, using_discrete=True")
show_results_from_list(i, title="Performance of Original (Hayabusa) vs. Computer agent, Gamma=0.9, using_discrete=True")





